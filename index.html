<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>c25-backfill-artifacts-from-done</title>
<style>body{background:#0a0a1a;color:#e0e0ff;font-family:monospace;padding:20px;max-width:900px;margin:0 auto}h1{color:#7af}.badge{background:#1a3a1a;border:1px solid #4f4;padding:3px 10px;border-radius:20px;font-size:.8em;color:#4f4}pre{background:#111128;border:1px solid #333;border-radius:8px;padding:20px;overflow-x:auto;margin-top:20px}</style>
</head><body><span class="badge">âœ… CONFIRMED RAN</span><h1>c25-backfill-artifacts-from-done</h1><p style="color:#888">Lines: 36 | Deps: pip  | C25 FacePrintPay</p><pre>#!/bin/bash
# Backfill artifacts for already completed tasks in tasks/done/
set -euo pipefail
PLAN_ID="${1:-52f7b763}"
DONE_DIR="$HOME/tasks/done/plan_${PLAN_ID}"
ARTIFACT_ROOT="$HOME/sovereign-architect/storage/artifacts/plan_${PLAN_ID}"
mkdir -p "$ARTIFACT_ROOT"
if [ ! -d "$DONE_DIR" ]; then
  echo "No done directory at $DONE_DIR"
  exit 0
fi
count=0
for TASK_FILE in "$DONE_DIR"/*.json; do
  [ -f "$TASK_FILE" ] || continue
  BASENAME="$(basename "$TASK_FILE")"
  TASK_ID="$(jq -r '.task_id // empty' "$TASK_FILE")"
  [ -z "$TASK_ID" ] && TASK_ID="${BASENAME%.json}"
  TITLE="$(jq -r '.title // "(no title)"' "$TASK_FILE")"
  DESC="$(jq -r '.description // "(no description)"' "$TASK_FILE")"
  STEP_ID="$(jq -r '.step_id // 0' "$TASK_FILE")"</pre></body></html>
